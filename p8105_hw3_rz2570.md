p8105\_hw3\_rz2570
================
Ruilian Zhang
10/12/2021

``` r
library(tidyverse)
```

    ## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──

    ## ✓ ggplot2 3.3.5     ✓ purrr   0.3.4
    ## ✓ tibble  3.1.4     ✓ dplyr   1.0.7
    ## ✓ tidyr   1.1.3     ✓ stringr 1.4.0
    ## ✓ readr   2.0.1     ✓ forcats 0.5.1

    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## x dplyr::filter() masks stats::filter()
    ## x dplyr::lag()    masks stats::lag()

``` r
knitr::opts_chunk$set(
  fig.width = 6,
  fig.asp = .6,
  out.width = "90%"
)
```

# Problem 1

``` r
library(p8105.datasets)
data("instacart")

dim(instacart)
```

    ## [1] 1384617      15

``` r
names(instacart)
```

    ##  [1] "order_id"               "product_id"             "add_to_cart_order"     
    ##  [4] "reordered"              "user_id"                "eval_set"              
    ##  [7] "order_number"           "order_dow"              "order_hour_of_day"     
    ## [10] "days_since_prior_order" "product_name"           "aisle_id"              
    ## [13] "department_id"          "aisle"                  "department"

``` r
head(instacart) 
```

    ## # A tibble: 6 × 15
    ##   order_id product_id add_to_cart_order reordered user_id eval_set order_number
    ##      <int>      <int>             <int>     <int>   <int> <chr>           <int>
    ## 1        1      49302                 1         1  112108 train               4
    ## 2        1      11109                 2         1  112108 train               4
    ## 3        1      10246                 3         0  112108 train               4
    ## 4        1      49683                 4         0  112108 train               4
    ## 5        1      43633                 5         1  112108 train               4
    ## 6        1      13176                 6         0  112108 train               4
    ## # … with 8 more variables: order_dow <int>, order_hour_of_day <int>,
    ## #   days_since_prior_order <int>, product_name <chr>, aisle_id <int>,
    ## #   department_id <int>, aisle <chr>, department <chr>

-   The `instacart` dataframe has 15 of columns and 1384617 of
    observations. Each row contains relative information of an item from
    one order , which are: order\_id, product\_id, add\_to\_cart\_order,
    reordered, user\_id, eval\_set, order\_number, order\_dow,
    order\_hour\_of\_day, days\_since\_prior\_order, product\_name,
    aisle\_id, department\_id, aisle, department.  
-   For example, for product `49302`, its order of being added to cart
    was `1` by user `112108`, and it’s from `dairy eggs` department.

``` r
instacart %>% 
  group_by(aisle) %>% 
  summarize(
    n_obs = n()) %>% 
  arrange(-n_obs) %>% 
  nrow()
```

    ## [1] 134

-   There are 134 aisles, the `fresh vegetables` (`aisle_id` is 83)
    aisle is the most items are ordered from.

``` r
instacart %>% 
  group_by(aisle) %>% 
  summarize(
    n_obs = n()
  ) %>% 
  filter(n_obs > 10000) %>% 
  ggplot(aes(x = aisle, y = n_obs)) +
  geom_bar(stat = "identity") + 
  theme_minimal()
```

<img src="p8105_hw3_rz2570_files/figure-gfm/unnamed-chunk-4-1.png" width="90%" />
